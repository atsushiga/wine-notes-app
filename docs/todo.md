---
# docs/todo.md

## 🤖 AI Agent 運用ルール
- **作業開始前:** 必ずこのファイルを確認し、現在の進捗と優先順位を把握すること。
- **作業完了後:** 該当項目の [ ] を [x] に更新すること。
- **作業完了後:** docs/app_spec.md を更新すること。
- **ツール使い分け:** - **Antigravity (@Antigravity):** 新機能の実装、複数ファイルにまたがる変更、データ操作、マイグレーション。
    - **Cursor (@Cursor):** 単一ファイル内のロジック修正、UIの微調整、リファクタリング。

## 🚀 実装ロードマップ

### 1. ワイン詳細・編集機能 (@Antigravity)
- [x] 各ワインの詳細ページ (`/wines/[id]`) の新規作成
- [x] 一覧ページからのルーティング設定
- [x] 詳細ページ内での情報編集機能の実装
- [x] 編集内容の保存ロジック（Server Actions/API）の実装
- [x] 詳細ページ内での削除機能の実装
- [x] 記録ページ内での画像削除機能の実装
- [x] ワイン詳細情報検索・保存機能の構築（Gemini Grounding + Supabase）
- [x] 画像からワイン名、ワイナリー、ビンテージなどを推定する機能の実装(Gemini Grounding)
- [x] 記録ページ内での一時保存機能の実装(一時保存ボタン、編集中フラグの表示、編集中のもののフィルタリング)
- [x] 記録ページ内での記入内容クリアの方法の実装
- [x] データ記載内容の見直し

### 2. バルク操作機能 (@Antigravity)
- [x] 一覧ページへの一括選択（チェックボックス）UIの導入
- [x] 複数選択されたアイテムの一括削除機能の実装

### 3. メディア管理の強化 (@Antigravity)
- [x] 写真の複数アップロード機能（ストレージ連携）
- [x] DBスキーマの変更（写真1:N対応）
- [x] 複数写真の表示UI（カルーセル等）の実装

### 4. パフォーマンス & UI最適化
- [x] **(@Antigravity)** アップロード時のサムネイル自動生成ロジック
- [x] **(@Cursor)** 一覧ページの画像最適化（Next/Image活用）による高速表示 (サムネイル実装により完了)
- [x] **(@Cursor)** 記録タブ->一覧タブ->記録タブに推移した際に、入力内容が消去されてしまうバグを修正
- [x] **(@Cursor)** 表示のソート機能の追加
- [x] **(@Antigravity)** 一覧ページに国アイコンを表示
- [x] **(@Antigravity)** 一覧ページにワインタイプを表示
- [x] **(@Antigravity)** 一覧ページにワインの値段を表示
- [x] 記載項目の見直し・整理

- [x] 香りの記載項目の見直し (WSET Level 3準拠の階層的アロマ選択へ刷新)
- [ ] **(@Cursor)** UI全体の洗練化（配色、タイポグラフィ、一貫性の確保）
    - [x] 記録ページ
    - [ ] 一覧ページ
    - [ ] 詳細ページ
    - [ ] 統計ページ
    - [ ] 設定ページ
- [ ] **(@Antigravity)** ダークモード表示対応

### 5. データ分析・統計表示 (@Antigravity)
- [x] 統計データ集計ロジックの作成
- [x] 統計ダッシュボード（グラフ等）のUI実装 (各種グラフ、地図、レイアウト調整完了)

### 6. AIデータクレンジング (@Antigravity)
- [ ] ワイン名（日本語<>原語）の変換スクリプト作成
- [ ] 既存データの一括クレンジング処理の実行

### 7. エラー修正
- [x] 記録ページ内において、下のタブと重なって送信ボタンが押せないバグの修正
- [x] ワイン詳細情報のページにおいて、白ワインの場合において縁の色調が赤ワインベースのものになっているバグの修正
- [x] ワイン詳細情報のページにおいて、白ワインでは入力対象にならないデータが表示されているバグの修正
- [x] ワインを登録した際にsupabaseのuser_idが付与されないバグの修正

### 8. ユーザー管理
- [x] ログアウト機能の実装
- [x] ユーザー情報(メールアドレス、パスワード)変更機能の実装
- [x] ユーザー情報の表示機能の実装
- [ ] ユーザー情報削除機能の実装

### 9. 外部連携
- [x] 既存のnotion/google spreadsheetの連携削除
- [ ] Notion連携機能の実装
- [ ] excel/CSVへのエクスポート機能の実装

## ✅ 完了済みタスク
- [x] プロジェクト初期構造の作成
- [x] 共通管理用 `docs/todo.md` の作成
- [x] SAT準拠の評価フォーム (0-10スケール、スライダーUI) へのリファクタリング
- [x] 詳細ページでのSATスコア・ラベル表示の実装
- [x] AI Deep Dive項目が編集時にリセットされるバグの修正
- [x] 一覧ページ遷移時の画像クエリエラー修正
---
